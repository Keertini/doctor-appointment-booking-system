{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\keert\\\\Documents\\\\ThriveHackathon\\\\frontend\\\\src\\\\components\\\\Booking\\\\Booking.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect, useRef } from \"react\";\nimport \"./booking.css\";\nimport { Form, FormGroup, ListGroup, ListGroupItem, Button } from \"reactstrap\";\nimport SignatureCanvas from \"react-signature-canvas\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Logo from \"../../assets/images/logo.png\";\nimport { BASE_URL } from \"../../utils/config\";\nimport jsPDF from \"jspdf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Booking = _ref => {\n  _s();\n  let {\n    doctor,\n    avgRating\n  } = _ref;\n  const {\n    _id,\n    fees,\n    reviews,\n    name,\n    available,\n    hospital,\n    location,\n    signature\n  } = doctor;\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(AuthContext);\n  const serviceFee = 10;\n  const totalAmount = Number(fees) + Number(serviceFee);\n  const sigCanvas = useRef({});\n  const [userSignature, setUserSignature] = useState(null);\n  const [formErrors, setFormErrors] = useState({});\n  const clearSignature = () => {\n    sigCanvas.current.clear();\n    setUserSignature(null);\n  };\n  const saveSignature = () => {\n    if (sigCanvas.current.isEmpty()) {\n      return alert(\"Please provide a signature!\");\n    }\n    setUserSignature(sigCanvas.current.getTrimmedCanvas().toDataURL(\"image/png\"));\n  };\n  const [booking, setBooking] = useState({\n    userId: user && user._id,\n    userEmail: user && user.email,\n    doctorId: _id,\n    doctorName: name,\n    fullName: \"\",\n    phone: \"\",\n    dateOfBirth: \"\",\n    sex: \"\",\n    healthNumber: \"\",\n    address: \"\",\n    fees: totalAmount,\n    bookAt: \"\",\n    available: available,\n    forMe: true,\n    relationship: \"\"\n  });\n  useEffect(() => {\n    const bookingTime = new Date();\n    if (available) {\n      const formattedBookingTime = bookingTime.toISOString().slice(0, 10);\n      setBooking(prev => ({\n        ...prev,\n        bookAt: formattedBookingTime\n      }));\n    } else {\n      bookingTime.setDate(bookingTime.getDate() + 1);\n      const formattedBookingTime = bookingTime.toISOString().slice(0, 10);\n      setBooking(prev => ({\n        ...prev,\n        bookAt: formattedBookingTime\n      }));\n    }\n  }, [available]);\n  const handleChange = e => {\n    setBooking(prev => ({\n      ...prev,\n      [e.target.id]: e.target.value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const errors = {};\n    if (!user || user === undefined || user === null) {\n      return alert(\"Please sign in\");\n    }\n\n    // Check for required fields\n    if (!booking.fullName) {\n      errors.fullName = \"Full name is required\";\n    }\n    if (!booking.phone) {\n      errors.phone = \"Phone number is required\";\n    }\n    if (!booking.dateOfBirth) {\n      errors.dateOfBirth = \"Date of birth is required\";\n    }\n    if (!booking.sex) {\n      errors.sex = \"Gender is required\";\n    }\n    if (!booking.healthNumber) {\n      errors.healthNumber = \"Health number is required\";\n    }\n    if (!booking.address) {\n      errors.address = \"Address is required\";\n    }\n\n    // Additional validation for phone number\n    const phoneRegex = /^\\d{10}$/;\n    if (!phoneRegex.test(booking.phone)) {\n      errors.phone = \"Please enter a valid 10-digit phone number\";\n    }\n\n    // Additional validation for full name: only letters and spaces allowed\n    const fullNameRegex = /^[A-Za-z\\s]+$/;\n    if (!fullNameRegex.test(booking.fullName)) {\n      errors.fullName = \"Please enter a valid full name (letters and spaces only)\";\n    }\n\n    // Check if booking is for someone else and validate relationship\n    if (!booking.forMe && !booking.relationship) {\n      errors.relationship = \"Please select a relationship\";\n    }\n\n    // Check if user has provided a signature\n    if (!userSignature) {\n      errors.signature = \"Please provide a signature\";\n    }\n    setFormErrors(errors);\n\n    // If there are no errors, proceed with form submission\n    if (Object.keys(errors).length === 0) {\n      try {\n        // Create new jsPDF instance\n        const doc = new jsPDF();\n\n        // Add Health Care Appointments Heading\n        doc.setFontSize(18);\n        doc.text(\"HEALTH CARE APPOINTMENTS\", 100, 20, {\n          align: \"center\"\n        });\n\n        // Add Logo\n        const logo = new Image();\n        logo.src = Logo; // Replace with the path to your logo image\n        doc.addImage(logo, \"PNG\", 10, 10, 40, 20);\n\n        // Add patient details\n        doc.setFontSize(12);\n        doc.text(\"PATIENT DETAILS\", 10, 40);\n        doc.text(`Patient Name: ${booking.fullName}`, 10, 50);\n        doc.text(`Email: ${booking.userEmail}`, 10, 60);\n        doc.text(`Phone Number: ${booking.phone}`, 10, 70);\n        doc.text(`DOB: ${booking.dateOfBirth}`, 10, 80);\n        doc.text(`Gender: ${booking.sex}`, 10, 90);\n        doc.text(`Health Number: ${booking.healthNumber}`, 10, 100);\n        doc.text(`Address: ${booking.address}`, 10, 110);\n        // If not for the user, display the relationship\n        if (!booking.forMe) {\n          doc.text(`Relationship with patient: ${booking.relationship}`, 10, 120);\n        }\n        // Adding user's signature\n        doc.addImage(userSignature, \"PNG\", 10, 130, 30, 30);\n\n        // Add doctor details\n        doc.text(\"DOCTOR DETAILS\", 10, 170);\n        doc.text(`Doctor Name: ${name}`, 10, 180);\n        doc.text(`Hospital Name: ${hospital}`, 10, 190);\n        doc.text(`Location of Hospital: ${location}`, 10, 200);\n        doc.text(`Total Fees: $${fees}`, 10, 210);\n        // Add Appointed Booked At\n        doc.text(`Appointed Booked At: ${booking.bookAt}`, 10, 220);\n        doc.addImage(signature, \"PNG\", 10, 230, 30, 30);\n\n        // Add terms and conditions\n        doc.setFontSize(10);\n        doc.text(\"Terms and Conditions: Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere, unde mollitia possimus accusamus voluptatum libero tenetur molestiae natus nesciunt ipsa debitis repellendus aspernatur delectus veritatis aut optio earum asperiores velit. Reprehenderit doloribus vero sint molestiae eum nostrum asperiores eligendi tenetur nemo laudantium alias, cupiditate maiores veniam voluptatibus voluptas, corrupti iure porro, quo inventore eius tempore illum. Culpa, aperiam. Cupiditate, optio omnis eaque eveniet nemo vitae dolore dolores quam sapiente porro laborum quis suscipit non doloribus numquam! Aspernatur rerum nihil itaque, omnis labore optio dolorem quo, amet porro consectetur doloribus minus similique eveniet temporibus qui ipsa pariatur libero beatae impedit ex!\", 10, 270, {\n          maxWidth: 200\n        });\n\n        // Save the PDF\n        doc.save(\"appointment.pdf\");\n\n        // Save booking details to database\n        const res = await fetch(`${BASE_URL}/booking`, {\n          method: \"post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          credentials: \"include\",\n          body: JSON.stringify(booking)\n        });\n        const result = await res.json();\n        if (!res.ok) {\n          return alert(result.message);\n        }\n        navigate(\"/thank-you\");\n      } catch (error) {\n        console.error(\"Error:\", error);\n        alert(error.message);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking__top d-flex align-items-center justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"$\", fees, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \".\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"doctor__rating d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ri-star-fill\",\n          style: {\n            color: \"var(--secondary-color)\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), avgRating === 0 ? null : avgRating, \" (\", reviews === null || reviews === void 0 ? void 0 : reviews.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking__form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"booking__info-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Full Name\",\n            id: \"fullName\",\n            required: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), formErrors.fullName && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Phone\",\n            id: \"phone\",\n            required: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), formErrors.phone && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), \"Date of Birth\", /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Date of Birth\",\n            id: \"dateOfBirth\",\n            required: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), formErrors.dateOfBirth && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.dateOfBirth\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"sex\",\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Male\",\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Female\",\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), formErrors.sex && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.sex\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"healthNumber\",\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Health Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), [...Array(10)].map((_, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: index + 1,\n              children: index + 1\n            }, index + 1, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), formErrors.healthNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.healthNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Address\",\n            id: \"address\",\n            required: true,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), formErrors.address && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            placeholder: \"Book At\",\n            id: \"bookAt\",\n            disabled: true,\n            value: booking.bookAt,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"radio-labels\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"For me:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"forMe\",\n              value: \"true\",\n              checked: booking.forMe,\n              onChange: () => setBooking(prev => ({\n                ...prev,\n                forMe: true\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"For my child(ren):\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"forMe\",\n              value: \"false\",\n              checked: !booking.forMe,\n              onChange: () => setBooking(prev => ({\n                ...prev,\n                forMe: false\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), !booking.forMe && /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"relationship\",\n            onChange: handleChange,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Relationship\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Parent\",\n              children: \"Parent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Guardian\",\n              children: \"Guardian\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Other\",\n              children: \"Other\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), formErrors.relationship && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.relationship\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"signature-container\",\n          children: [\"Signature\", /*#__PURE__*/_jsxDEV(SignatureCanvas, {\n            ref: sigCanvas,\n            penColor: \"black\",\n            canvasProps: {\n              width: 300,\n              height: 150,\n              className: \"sigCanvas\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"signature-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: clearSignature,\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: saveSignature,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), formErrors.signature && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error\",\n            children: formErrors.signature\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"btn primary__btn w-100 mt-4\",\n          type: \"submit\",\n          children: \"Book Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking__bottom\",\n      children: /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n          className: \"border-0 px-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"d-flex align-items-center gap-1\",\n            children: [\"$\", fees, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"ri-close-line\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 23\n            }, this), \" 1 person\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", fees]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          className: \"border-0 px-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Service charge\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", serviceFee]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListGroupItem, {\n          className: \"border-0 px-0 total\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", totalAmount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n};\n_s(Booking, \"GLFfeMFtQdZWmOf+jaiSSyS8DTA=\", false, function () {\n  return [useNavigate];\n});\n_c = Booking;\nexport default Booking;\nvar _c;\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useRef","Form","FormGroup","ListGroup","ListGroupItem","Button","SignatureCanvas","useNavigate","AuthContext","Logo","BASE_URL","jsPDF","Booking","doctor","avgRating","_id","fees","reviews","name","available","hospital","location","signature","navigate","user","serviceFee","totalAmount","Number","sigCanvas","userSignature","setUserSignature","formErrors","setFormErrors","clearSignature","current","clear","saveSignature","isEmpty","alert","getTrimmedCanvas","toDataURL","booking","setBooking","userId","userEmail","email","doctorId","doctorName","fullName","phone","dateOfBirth","sex","healthNumber","address","bookAt","forMe","relationship","bookingTime","Date","formattedBookingTime","toISOString","slice","prev","setDate","getDate","handleChange","e","target","id","value","handleSubmit","preventDefault","errors","undefined","phoneRegex","test","fullNameRegex","Object","keys","length","doc","setFontSize","text","align","logo","Image","src","addImage","maxWidth","save","res","fetch","method","headers","credentials","body","JSON","stringify","result","json","ok","message","error","console","color","Array","map","_","index","width","height","className"],"sources":["C:/Users/keert/Documents/ThriveHackathon/frontend/src/components/Booking/Booking.jsx"],"sourcesContent":["import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport \"./booking.css\";\nimport { Form, FormGroup, ListGroup, ListGroupItem, Button } from \"reactstrap\";\nimport SignatureCanvas from \"react-signature-canvas\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Logo from \"../../assets/images/logo.png\";\nimport { BASE_URL } from \"../../utils/config\";\nimport jsPDF from \"jspdf\";\n\nconst Booking = ({ doctor, avgRating }) => {\n  const { _id, fees, reviews, name, available, hospital, location, signature } =\n    doctor;\n\n  const navigate = useNavigate();\n\n  const { user } = useContext(AuthContext);\n  const serviceFee = 10;\n  const totalAmount = Number(fees) + Number(serviceFee);\n\n  const sigCanvas = useRef({});\n  const [userSignature, setUserSignature] = useState(null);\n  const [formErrors, setFormErrors] = useState({});\n\n  const clearSignature = () => {\n    sigCanvas.current.clear();\n    setUserSignature(null);\n  };\n\n  const saveSignature = () => {\n    if (sigCanvas.current.isEmpty()) {\n      return alert(\"Please provide a signature!\");\n    }\n    setUserSignature(\n      sigCanvas.current.getTrimmedCanvas().toDataURL(\"image/png\")\n    );\n  };\n\n  const [booking, setBooking] = useState({\n    userId: user && user._id,\n    userEmail: user && user.email,\n    doctorId: _id,\n    doctorName: name,\n    fullName: \"\",\n    phone: \"\",\n    dateOfBirth: \"\",\n    sex: \"\",\n    healthNumber: \"\",\n    address: \"\",\n    fees: totalAmount,\n    bookAt: \"\",\n    available: available,\n    forMe: true,\n    relationship: \"\",\n  });\n\n  useEffect(() => {\n    const bookingTime = new Date();\n    if (available) {\n      const formattedBookingTime = bookingTime.toISOString().slice(0, 10);\n      setBooking((prev) => ({ ...prev, bookAt: formattedBookingTime }));\n    } else {\n      bookingTime.setDate(bookingTime.getDate() + 1);\n      const formattedBookingTime = bookingTime.toISOString().slice(0, 10);\n      setBooking((prev) => ({ ...prev, bookAt: formattedBookingTime }));\n    }\n  }, [available]);\n\n  const handleChange = (e) => {\n    setBooking((prev) => ({ ...prev, [e.target.id]: e.target.value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const errors = {};\n\n    if (!user || user === undefined || user === null) {\n      return alert(\"Please sign in\");\n    }\n\n    // Check for required fields\n    if (!booking.fullName) {\n      errors.fullName = \"Full name is required\";\n    }\n    if (!booking.phone) {\n      errors.phone = \"Phone number is required\";\n    }\n    if (!booking.dateOfBirth) {\n      errors.dateOfBirth = \"Date of birth is required\";\n    }\n    if (!booking.sex) {\n      errors.sex = \"Gender is required\";\n    }\n    if (!booking.healthNumber) {\n      errors.healthNumber = \"Health number is required\";\n    }\n    if (!booking.address) {\n      errors.address = \"Address is required\";\n    }\n\n    // Additional validation for phone number\n    const phoneRegex = /^\\d{10}$/;\n    if (!phoneRegex.test(booking.phone)) {\n      errors.phone = \"Please enter a valid 10-digit phone number\";\n    }\n\n    // Additional validation for full name: only letters and spaces allowed\n    const fullNameRegex = /^[A-Za-z\\s]+$/;\n    if (!fullNameRegex.test(booking.fullName)) {\n      errors.fullName =\n        \"Please enter a valid full name (letters and spaces only)\";\n    }\n\n    // Check if booking is for someone else and validate relationship\n    if (!booking.forMe && !booking.relationship) {\n      errors.relationship = \"Please select a relationship\";\n    }\n\n    // Check if user has provided a signature\n    if (!userSignature) {\n      errors.signature = \"Please provide a signature\";\n    }\n\n    setFormErrors(errors);\n\n    // If there are no errors, proceed with form submission\n    if (Object.keys(errors).length === 0) {\n      try {\n        // Create new jsPDF instance\n        const doc = new jsPDF();\n\n        // Add Health Care Appointments Heading\n        doc.setFontSize(18);\n        doc.text(\"HEALTH CARE APPOINTMENTS\", 100, 20, { align: \"center\" });\n\n        // Add Logo\n        const logo = new Image();\n        logo.src = Logo; // Replace with the path to your logo image\n        doc.addImage(logo, \"PNG\", 10, 10, 40, 20);\n\n        // Add patient details\n        doc.setFontSize(12);\n        doc.text(\"PATIENT DETAILS\", 10, 40);\n        doc.text(`Patient Name: ${booking.fullName}`, 10, 50);\n        doc.text(`Email: ${booking.userEmail}`, 10, 60);\n        doc.text(`Phone Number: ${booking.phone}`, 10, 70);\n        doc.text(`DOB: ${booking.dateOfBirth}`, 10, 80);\n        doc.text(`Gender: ${booking.sex}`, 10, 90);\n        doc.text(`Health Number: ${booking.healthNumber}`, 10, 100);\n        doc.text(`Address: ${booking.address}`, 10, 110);\n        // If not for the user, display the relationship\n        if (!booking.forMe) {\n          doc.text(\n            `Relationship with patient: ${booking.relationship}`,\n            10,\n            120\n          );\n        }\n        // Adding user's signature\n        doc.addImage(userSignature, \"PNG\", 10, 130, 30, 30);\n\n        // Add doctor details\n        doc.text(\"DOCTOR DETAILS\", 10, 170);\n        doc.text(`Doctor Name: ${name}`, 10, 180);\n        doc.text(`Hospital Name: ${hospital}`, 10, 190);\n        doc.text(`Location of Hospital: ${location}`, 10, 200);\n        doc.text(`Total Fees: $${fees}`, 10, 210);\n        // Add Appointed Booked At\n        doc.text(`Appointed Booked At: ${booking.bookAt}`, 10, 220);\n        doc.addImage(signature, \"PNG\", 10, 230, 30, 30);\n\n        // Add terms and conditions\n        doc.setFontSize(10);\n        doc.text(\n          \"Terms and Conditions: Lorem ipsum dolor sit amet consectetur adipisicing elit. Facere, unde mollitia possimus accusamus voluptatum libero tenetur molestiae natus nesciunt ipsa debitis repellendus aspernatur delectus veritatis aut optio earum asperiores velit. Reprehenderit doloribus vero sint molestiae eum nostrum asperiores eligendi tenetur nemo laudantium alias, cupiditate maiores veniam voluptatibus voluptas, corrupti iure porro, quo inventore eius tempore illum. Culpa, aperiam. Cupiditate, optio omnis eaque eveniet nemo vitae dolore dolores quam sapiente porro laborum quis suscipit non doloribus numquam! Aspernatur rerum nihil itaque, omnis labore optio dolorem quo, amet porro consectetur doloribus minus similique eveniet temporibus qui ipsa pariatur libero beatae impedit ex!\",\n          10,\n          270,\n          { maxWidth: 200 }\n        );\n\n        // Save the PDF\n        doc.save(\"appointment.pdf\");\n\n        // Save booking details to database\n        const res = await fetch(`${BASE_URL}/booking`, {\n          method: \"post\",\n          headers: {\n            \"content-type\": \"application/json\",\n          },\n          credentials: \"include\",\n          body: JSON.stringify(booking),\n        });\n\n        const result = await res.json();\n\n        if (!res.ok) {\n          return alert(result.message);\n        }\n\n        navigate(\"/thank-you\");\n      } catch (error) {\n        console.error(\"Error:\", error);\n        alert(error.message);\n      }\n    }\n  };\n\n  return (\n    <div className=\"booking\">\n      <div className=\"booking__top d-flex align-items-center justify-content-between\">\n        <h3>\n          ${fees} <span>.</span>\n        </h3>\n        <span className=\"doctor__rating d-flex align-items-center\">\n          <i\n            className=\"ri-star-fill\"\n            style={{ color: \"var(--secondary-color)\" }}\n          ></i>\n          {avgRating === 0 ? null : avgRating} ({reviews?.length})\n        </span>\n      </div>\n\n      <div className=\"booking__form\">\n        <h5>Information</h5>\n        <Form className=\"booking__info-form\" onSubmit={handleSubmit}>\n          <FormGroup>\n            <input\n              type=\"text\"\n              placeholder=\"Full Name\"\n              id=\"fullName\"\n              required\n              onChange={handleChange}\n            />\n            {formErrors.fullName && (\n              <span className=\"error\">{formErrors.fullName}</span>\n            )}\n          </FormGroup>\n          <FormGroup>\n            <input\n              type=\"text\"\n              placeholder=\"Phone\"\n              id=\"phone\"\n              required\n              onChange={handleChange}\n            />\n            {formErrors.phone && (\n              <span className=\"error\">{formErrors.phone}</span>\n            )}\n          </FormGroup>\n          Date of Birth\n          <FormGroup>\n            <input\n              type=\"date\"\n              placeholder=\"Date of Birth\"\n              id=\"dateOfBirth\"\n              required\n              onChange={handleChange}\n            />\n            {formErrors.dateOfBirth && (\n              <span className=\"error\">{formErrors.dateOfBirth}</span>\n            )}\n          </FormGroup>\n          <FormGroup>\n            <select id=\"sex\" onChange={handleChange} required>\n              <option value=\"\">Select Gender</option>\n              <option value=\"Male\">Male</option>\n              <option value=\"Female\">Female</option>\n              <option value=\"Other\">Other</option>\n            </select>\n            {formErrors.sex && <span className=\"error\">{formErrors.sex}</span>}\n          </FormGroup>\n          <FormGroup>\n            <select id=\"healthNumber\" onChange={handleChange} required>\n              <option value=\"\">Select Health Number</option>\n              {[...Array(10)].map((_, index) => (\n                <option key={index + 1} value={index + 1}>\n                  {index + 1}\n                </option>\n              ))}\n            </select>\n            {formErrors.healthNumber && (\n              <span className=\"error\">{formErrors.healthNumber}</span>\n            )}\n          </FormGroup>\n          <FormGroup>\n            <input\n              type=\"text\"\n              placeholder=\"Address\"\n              id=\"address\"\n              required\n              onChange={handleChange}\n            />\n            {formErrors.address && (\n              <span className=\"error\">{formErrors.address}</span>\n            )}\n          </FormGroup>\n          <FormGroup>\n            <input\n              type=\"date\"\n              placeholder=\"Book At\"\n              id=\"bookAt\"\n              disabled\n              value={booking.bookAt}\n              onChange={handleChange}\n            />\n          </FormGroup>\n          <div className=\"radio-labels\">\n            <label>\n              For me:\n              <input\n                type=\"radio\"\n                name=\"forMe\"\n                value=\"true\"\n                checked={booking.forMe}\n                onChange={() =>\n                  setBooking((prev) => ({ ...prev, forMe: true }))\n                }\n              />\n            </label>\n            <label>\n              For my child(ren):\n              <input\n                type=\"radio\"\n                name=\"forMe\"\n                value=\"false\"\n                checked={!booking.forMe}\n                onChange={() =>\n                  setBooking((prev) => ({ ...prev, forMe: false }))\n                }\n              />\n            </label>\n          </div>\n          {!booking.forMe && (\n            <FormGroup>\n              <select id=\"relationship\" onChange={handleChange} required>\n                <option value=\"\">Select Relationship</option>\n                <option value=\"Parent\">Parent</option>\n                <option value=\"Guardian\">Guardian</option>\n                <option value=\"Other\">Other</option>\n              </select>\n              {formErrors.relationship && (\n                <span className=\"error\">{formErrors.relationship}</span>\n              )}\n            </FormGroup>\n          )}\n          <div className=\"signature-container\">\n            Signature\n            <SignatureCanvas\n              ref={sigCanvas}\n              penColor=\"black\"\n              canvasProps={{ width: 300, height: 150, className: \"sigCanvas\" }}\n            />\n            <div className=\"signature-buttons\">\n              <Button onClick={clearSignature}>Clear</Button>\n              <Button onClick={saveSignature}>Save</Button>\n            </div>\n            {formErrors.signature && (\n              <span className=\"error\">{formErrors.signature}</span>\n            )}\n          </div>\n          <Button className=\"btn primary__btn w-100 mt-4\" type=\"submit\">\n            Book Now\n          </Button>\n        </Form>\n      </div>\n\n      <div className=\"booking__bottom\">\n        <ListGroup>\n          <ListGroupItem className=\"border-0 px-0\">\n            <h5 className=\"d-flex align-items-center gap-1\">\n              ${fees} <i className=\"ri-close-line\"></i> 1 person\n            </h5>\n            <span>${fees}</span>\n          </ListGroupItem>\n          <ListGroupItem className=\"border-0 px-0\">\n            <h5>Service charge</h5>\n            <span>${serviceFee}</span>\n          </ListGroupItem>\n          <ListGroupItem className=\"border-0 px-0 total\">\n            <h5>Total</h5>\n            <span>${totalAmount}</span>\n          </ListGroupItem>\n        </ListGroup>\n      </div>\n    </div>\n  );\n};\n\nexport default Booking;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}